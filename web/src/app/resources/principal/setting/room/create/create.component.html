<div mat-dialog-title>
    <span class="text-2xl">{{
        data.item ? "កែប្រែបន្ទប់" + data.item.name : "បង្កើតបន្ទប់ថ្មី"
    }}</span>
</div>

<mat-dialog-content class="border-t w-[600px]">
    <form
        class="grid grid-cols-1 md-form-field-appearance-outline"
        [formGroup]="room"
    >
        <mat-form-field appearance="outline" class="w-full">
            <mat-label>ឈ្មោះ</mat-label>
            <input matInput formControlName="name" placeholder="បញ្ចូលឈ្មោះ" />
            <mat-error *ngIf="room.get('name').hasError('required')"
                >សូមបញ្ចូលឈ្មោះ</mat-error
            >
        </mat-form-field>
        <mat-form-field appearance="outline" class="w-full">
            <mat-label>ជាន់</mat-label>
            <input
                matInput
                formControlName="floor"
                type="number"
                min="0"
                max="100"
                placeholder="បញ្ចូលជាន់"
            />
            <mat-error *ngIf="room.get('floor').hasError('required')"
                >សូមបញ្ចូលជាន់</mat-error
            >
        </mat-form-field>
        <mat-form-field appearance="outline" class="w-full">
            <mat-label>ឈ្នោះអគារ</mat-label>
            <input
                matInput
                formControlName="building_name"
                placeholder="បញ្ចូលឈ្នោះអគារ"
            />
            <mat-error *ngIf="room.get('building_name').hasError('required')"
                >សូមបញ្ចូលឈ្នោះអគារ</mat-error
            >
        </mat-form-field>
        <mat-form-field appearance="outline" class="w-full lg-textarea">
            <mat-label>ពិព័ណ៍នា</mat-label>
            <textarea
                matInput
                formControlName="description"
                placeholder="បញ្ចូលពិព័ណ៍នា"
            ></textarea>

            <mat-error *ngIf="room.get('description').hasError('required')"
                >សូមបញ្ចូលពិព័ណ៍នា</mat-error
            >
        </mat-form-field>
    </form>
</mat-dialog-content>

<mat-dialog-actions class="flex items-center justify-between gap-2">
    <button
        [class.helpers-mat-button-red]="room.enabled"
        class="helpers-mat-button-md bg-red-500"
        [disabled]="room.disabled"
        mat-flat-button
        [mat-dialog-close]="false"
    >
        <span class="text-white">បោះបង់</span>
    </button>

    <button
        class="helpers-mat-button-md min-w-20 bg-blue-900"
        mat-flat-button
        (click)="submit()"
        [disabled]="room.invalid || room.disabled"
    >
        <span *ngIf="!room.disabled" class="text-white">រក្សាទុក</span>
        <mat-progress-spinner
            *ngIf="room.disabled"
            [diameter]="24"
            [mode]="'indeterminate'"
        ></mat-progress-spinner>
    </button>
</mat-dialog-actions>
