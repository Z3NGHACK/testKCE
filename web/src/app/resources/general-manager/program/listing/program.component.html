<div class="list-user-section bg-slate-100 my-3 mx-3 rounded-lg">
    <div class="bg-white min-h-14 max-h-14 flex gap-2 justify-between items-center py-2 pl-5 pr-2.5">
        <div class="flex flex-1 items-center font-medium">
            <div class="flex items-center">
                <mat-icon class="icon-size-5 -mt-0.5" matPrefix [svgIcon]="'heroicons_outline:home'"></mat-icon>
            </div>
            <div class="flex items-center ml-1.5">
                <span class="text-lg text-gray-600 -mb-0.5">ការកំណត់</span>
            </div>
        </div>
        <div class="flex items-center gap-2">
            
            <button class="helpers-mat-button-sm active:animate-pulse px-2" mat-stroked-button (click)="create()" >
                <mat-icon class="icon-size-4" svgIcon="feather:plus"></mat-icon>
            </button>
        </div>
    </div>
    <div class=" px-4 pb-4 bg-white">
        <div class="border-t w-full list-user-body overflow-scroll no-scrollbar">
            <table mat-table [dataSource]="dataSource">
                <ng-container matColumnDef="name" >
                    <th mat-header-cell *matHeaderCellDef class="text-xl w-240 z-10" style="font-weight: bold;">ថ្នាក់</th>
                    <td mat-cell *matCellDef="let data">
                        <div class="flex">
                            <div class="p-1 pl-0">
                                <mat-icon class="icon-size-6 text-slate-700 mr-2.5" [svgIcon]="'heroicons_outline:academic-cap'"></mat-icon>
                            </div>
                            <div class="mt-2">{{data?.name}}</div>
                        </div>
                    </td>
                </ng-container>
        
                <ng-container matColumnDef="type" >
                    <th mat-header-cell *matHeaderCellDef class="z-10">កម្រិតសិក្សា</th>
                    <td mat-cell *matCellDef="let data">
                        <span class="truncate w-20 text-gray-500">{{data?.level}} </span>
                    </td>
                </ng-container>
                
                <ng-container matColumnDef="start" >
                    <th mat-header-cell *matHeaderCellDef class="text-end z-10">តម្លៃសិក្សា</th>
                    <td mat-cell *matCellDef="let data" class="text-end">
                        <span class="truncate w-20 text-gray-500 ">{{data?.price_per_year}} ដុល្លារ / 1 ឆ្នាំ</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="end">
                    <th mat-header-cell *matHeaderCellDef class="text-center min-w-40 z-10">ចំនូនមុខវិជ្ជា</th>
                    <td mat-cell *matCellDef="let data" class="text-center min-w-40">
                        <span class="truncate w-20 text-gray-500"> {{data?.n_subject}} </span>
                    </td>
                </ng-container>
               
                <ng-ontainer matColumnDef="action"  >
                    <th mat-header-cell *matHeaderCellDef class="z-10">
                    </th>
                    <td mat-cell *matCellDef="let data" class="text-end">
                       <span>
                        <button mat-icon-button [matMenuTriggerFor]="menu" >
                            <mat-icon class="icon-size-6 " svgIcon="mat_outline:more_vert"></mat-icon>
                        </button>
                        <mat-menu #menu="matMenu">
                            <button mat-menu-item (click)="view(data)">
                                <mat-icon class="icon-size-5 text-blue-500" svgIcon="heroicons_outline:eye"></mat-icon>
                                <span class="text-lg text-blue-500">មើល</span>
                            </button>
                            <button mat-menu-item (click)="delete(data)">
                                <mat-icon class="icon-size-5 text-red-400" svgIcon="mat_solid:delete_outline"></mat-icon>
                                <span class="text-lg text-red-400">លុប</span>
                            </button>
                        </mat-menu>
                    </span>
                    </td>
                </ng-ontainer>

                <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        </div>
        <mat-paginator class="flex justify-end overflow-hidden" [pageSizeOptions]="[15, 30, 45]"
            [showFirstLastButtons]="true" [pageIndex]="page - 1" [length]="total" [pageSize]="limit"
            (page)="onPageChanged($event)">
        </mat-paginator>
    </div>
</div>
